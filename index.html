<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å¤šç­–ç•¥æ¨¡æ“¬ä¸‹ä¸€çµ„è™Ÿç¢¼</title>
<style>
body { 
    font-family: 'Microsoft JhengHei', Arial, sans-serif; 
    background: linear-gradient(135deg, #1a1f36, #0d1117);
    color: #f0f0f0; 
    padding: 20px;
    max-width: 1000px;
    margin: 0 auto;
    min-height: 100vh;
}
h1 { 
    color: #4fc3f7; 
    text-align: center; 
    margin-bottom: 10px;
    font-size: 2.5em;
    text-shadow: 0 2px 10px rgba(79, 195, 247, 0.3);
}
.subtitle {
    text-align: center;
    color: #8899a6;
    margin-bottom: 30px;
    font-size: 1.1em;
}
.container {
    background: rgba(30, 35, 50, 0.8);
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    margin-bottom: 30px;
    border: 1px solid rgba(79, 195, 247, 0.2);
}
.input-section {
    margin-bottom: 25px;
}
.file-label {
    display: block;
    margin-bottom: 15px;
    font-size: 1.2em;
    color: #4fc3f7;
}
.file-input-wrapper {
    position: relative;
    margin-bottom: 20px;
}
.file-input {
    width: 100%;
    padding: 15px;
    background: rgba(255, 255, 255, 0.1);
    border: 2px dashed rgba(79, 195, 247, 0.5);
    border-radius: 12px;
    color: #fff;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s;
}
.file-input:hover {
    background: rgba(79, 195, 247, 0.1);
    border-color: #4fc3f7;
}
.file-input::file-selector-button {
    background: #4fc3f7;
    color: #1a1f36;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    margin-right: 15px;
}
.strategy-section {
    margin: 25px 0;
}
.strategy-title {
    color: #4fc3f7;
    margin-bottom: 15px;
    font-size: 1.3em;
}
.strategy-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}
.strategy-btn {
    background: rgba(79, 195, 247, 0.2);
    border: 2px solid rgba(79, 195, 247, 0.3);
    color: #f0f0f0;
    padding: 12px;
    border-radius: 10px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
}
.strategy-btn:hover {
    background: rgba(79, 195, 247, 0.3);
    transform: translateY(-2px);
}
.strategy-btn.active {
    background: #4fc3f7;
    color: #1a1f36;
    border-color: #4fc3f7;
    box-shadow: 0 4px 15px rgba(79, 195, 247, 0.4);
}
.generate-btn {
    background: linear-gradient(135deg, #4fc3f7, #29b6f6);
    color: #1a1f36;
    padding: 18px;
    font-size: 22px;
    font-weight: bold;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    width: 100%;
    margin: 25px 0;
    transition: all 0.3s;
    box-shadow: 0 6px 20px rgba(79, 195, 247, 0.3);
}
.generate-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(79, 195, 247, 0.5);
}
.generate-btn:active {
    transform: translateY(-1px);
}
.result-section {
    background: rgba(30, 35, 50, 0.9);
    border-radius: 20px;
    padding: 30px;
    margin-top: 30px;
    border: 1px solid rgba(79, 195, 247, 0.3);
}
.result-title {
    color: #4fc3f7;
    text-align: center;
    margin-bottom: 25px;
    font-size: 1.8em;
}
.next-numbers {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 30px;
    flex-wrap: wrap;
}
.number-ball {
    width: 70px;
    height: 70px;
    background: linear-gradient(135deg, #4fc3f7, #29b6f6);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    font-weight: bold;
    color: #1a1f36;
    box-shadow: 0 6px 15px rgba(79, 195, 247, 0.4);
    transition: transform 0.3s;
}
.number-ball:hover {
    transform: scale(1.1);
}
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 25px;
}
.stat-box {
    background: rgba(255, 255, 255, 0.05);
    padding: 20px;
    border-radius: 12px;
    border-left: 4px solid #4fc3f7;
}
.stat-title {
    color: #8899a6;
    font-size: 14px;
    margin-bottom: 8px;
}
.stat-value {
    color: #4fc3f7;
    font-size: 24px;
    font-weight: bold;
}
.history-section {
    margin-top: 40px;
}
.history-title {
    color: #4fc3f7;
    margin-bottom: 20px;
    font-size: 1.5em;
}
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
    background: rgba(30, 35, 50, 0.6);
    border-radius: 12px;
    overflow: hidden;
}
th {
    background: rgba(79, 195, 247, 0.2);
    color: #4fc3f7;
    padding: 15px;
    text-align: center;
    font-weight: bold;
}
td {
    padding: 15px;
    text-align: center;
    border-bottom: 1px solid rgba(79, 195, 247, 0.1);
}
tr:hover {
    background: rgba(79, 195, 247, 0.1);
}
.disclaimer {
    text-align: center;
    color: #8899a6;
    font-size: 14px;
    margin-top: 40px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    border-left: 4px solid #e74c3c;
}
.disclaimer strong {
    color: #e74c3c;
}
.loading {
    display: none;
    text-align: center;
    padding: 20px;
}
.spinner {
    border: 4px solid rgba(79, 195, 247, 0.3);
    border-top: 4px solid #4fc3f7;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin: 0 auto 15px;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
@media (max-width: 768px) {
    body {
        padding: 15px;
    }
    .container {
        padding: 20px;
    }
    .number-ball {
        width: 60px;
        height: 60px;
        font-size: 24px;
    }
    .stats-grid {
        grid-template-columns: 1fr;
    }
    table {
        font-size: 14px;
    }
}
</style>
</head>
<body>

<div class="container">
    <h1>å¤šç­–ç•¥æ¨¡æ“¬ä¸‹ä¸€çµ„è™Ÿç¢¼</h1>
    <p class="subtitle">åŸºæ–¼æ­·å²æ•¸æ“šçš„å¤šç­–ç•¥æ™ºèƒ½æ¨¡æ“¬åˆ†æ</p>
    
    <div class="input-section">
        <label class="file-label">ğŸ“ ä¸Šå‚³æ­·å²æ•¸æ“š CSV æ–‡ä»¶</label>
        <div class="file-input-wrapper">
            <input type="file" id="csvFile" class="file-input" accept=".csv">
        </div>
        <p style="color: #8899a6; font-size: 14px; margin-top: 10px;">
            æ ¼å¼è¦æ±‚ï¼šæ¯è¡Œä¸€çµ„è™Ÿç¢¼ï¼Œç”¨é€—è™Ÿåˆ†éš”ï¼ˆä¾‹å¦‚ï¼š6,8,10,12,25ï¼‰
        </p>
    </div>
    
    <div class="strategy-section">
        <div class="strategy-title">ğŸ¯ é¸æ“‡æ¨¡æ“¬ç­–ç•¥</div>
        <div class="strategy-options">
            <button class="strategy-btn active" onclick="selectStrategy('balanced')" data-strategy="balanced">å‡è¡¡ç­–ç•¥</button>
            <button class="strategy-btn" onclick="selectStrategy('hot')" data-strategy="hot">ç†±é–€è™Ÿç¢¼</button>
            <button class="strategy-btn" onclick="selectStrategy('cold')" data-strategy="cold">å†·é–€è™Ÿç¢¼</button>
            <button class="strategy-btn" onclick="selectStrategy('pattern')" data-strategy="pattern">æ­·å²æ¨¡å¼</button>
            <button class="strategy-btn" onclick="selectStrategy('random')" data-strategy="random">éš¨æ©Ÿå„ªåŒ–</button>
        </div>
    </div>
    
    <button class="generate-btn" onclick="generate()">ğŸš€ ç”Ÿæˆä¸‹ä¸€çµ„è™Ÿç¢¼</button>
    
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>æ­£åœ¨åˆ†ææ•¸æ“šä¸¦ç”Ÿæˆæ¨¡æ“¬è™Ÿç¢¼...</p>
    </div>
</div>

<div class="result-section" id="resultSection" style="display: none;">
    <div class="result-title">âœ¨ æ¨¡æ“¬çµæœ</div>
    
    <div id="result"></div>
    
    <div class="stats-grid" id="statsGrid"></div>
    
    <div class="history-section">
        <div class="history-title">ğŸ“Š æ­·å²çµ±è¨ˆåˆ†æ</div>
        <div id="historyStats"></div>
    </div>
</div>

<div class="disclaimer">
    <strong>âš ï¸ é‡è¦è²æ˜ï¼š</strong>æœ¬ç³»çµ±ç”Ÿæˆçš„è™Ÿç¢¼åƒ…ç‚ºåŸºæ–¼æ­·å²æ•¸æ“šçš„æ¨¡æ“¬åˆ†æçµæœï¼Œ
    ä¸å…·å‚™ä»»ä½•é æ¸¬åŠŸèƒ½ã€‚å½©ç¥¨é–‹çç‚ºéš¨æ©Ÿäº‹ä»¶ï¼Œè«‹ç†æ€§è³¼å½©ï¼Œé‡åŠ›è€Œè¡Œã€‚
</div>

<script>
let currentStrategy = 'balanced';
let historyData = [];
let numberStats = {};
let allNumbers = Array.from({length: 39}, (_, i) => i + 1);

// é¸æ“‡ç­–ç•¥
function selectStrategy(strategy) {
    currentStrategy = strategy;
    document.querySelectorAll('.strategy-btn').forEach(btn => {
        btn.classList.remove('active');
        if(btn.dataset.strategy === strategy) {
            btn.classList.add('active');
        }
    });
}

// é¡¯ç¤ºåŠ è¼‰å‹•ç•«
function showLoading(show) {
    document.getElementById('loading').style.display = show ? 'block' : 'none';
}

// ç”Ÿæˆæ¨¡æ“¬è™Ÿç¢¼
function generate() {
    const fileInput = document.getElementById('csvFile');
    if (!fileInput.files.length) { 
        alert("è«‹å…ˆä¸Šå‚³ CSV æ–‡ä»¶"); 
        return; 
    }

    showLoading(true);
    
    const reader = new FileReader();
    reader.onload = function(e) {
        try {
            const text = e.target.result;
            const lines = text.trim().split(/\r?\n/);
            historyData = [];
            numberStats = {};
            
            // åˆå§‹åŒ–çµ±è¨ˆ
            allNumbers.forEach(n => {
                numberStats[n] = {
                    count: 0,
                    lastSeen: 0,
                    consecutivePairs: 0
                };
            });
            
            // è§£ææ•¸æ“š
            lines.forEach((line, index) => {
                const nums = line.split(',').map(n => parseInt(n.trim())).filter(n => !isNaN(n) && n >= 1 && n <= 39);
                if(nums.length >= 5) {
                    historyData.push(nums);
                    
                    // æ›´æ–°çµ±è¨ˆ
                    nums.forEach(n => {
                        numberStats[n].count++;
                        numberStats[n].lastSeen = 0;
                    });
                    
                    // æ›´æ–°é€£è™Ÿçµ±è¨ˆ
                    const sorted = [...nums].sort((a,b) => a-b);
                    for(let i = 0; i < sorted.length - 1; i++) {
                        if(sorted[i+1] - sorted[i] === 1) {
                            numberStats[sorted[i]].consecutivePairs++;
                            numberStats[sorted[i+1]].consecutivePairs++;
                        }
                    }
                    
                    // æ›´æ–°æ‰€æœ‰è™Ÿç¢¼çš„éºæ¼æœŸæ•¸
                    allNumbers.forEach(n => {
                        if(!nums.includes(n)) {
                            numberStats[n].lastSeen++;
                        } else {
                            numberStats[n].lastSeen = 0;
                        }
                    });
                }
            });
            
            if(historyData.length === 0) {
                alert("æœªæ‰¾åˆ°æœ‰æ•ˆçš„è™Ÿç¢¼æ•¸æ“š");
                showLoading(false);
                return;
            }
            
            // ç”Ÿæˆä¸‹ä¸€çµ„è™Ÿç¢¼
            const nextNumbers = generateNextNumbers();
            
            // é¡¯ç¤ºçµæœ
            displayResults(nextNumbers);
            displayHistoryStats();
            
            showLoading(false);
            document.getElementById('resultSection').style.display = 'block';
            
        } catch(error) {
            alert("è§£ææ–‡ä»¶æ™‚ç™¼ç”ŸéŒ¯èª¤: " + error.message);
            showLoading(false);
        }
    };
    reader.readAsText(fileInput.files[0]);
}

// ç”Ÿæˆä¸‹ä¸€çµ„è™Ÿç¢¼
function generateNextNumbers() {
    let nextNumbers = [];
    
    switch(currentStrategy) {
        case 'balanced':
            nextNumbers = generateBalancedNumbers();
            break;
        case 'hot':
            nextNumbers = generateHotNumbers();
            break;
        case 'cold':
            nextNumbers = generateColdNumbers();
            break;
        case 'pattern':
            nextNumbers = generatePatternNumbers();
            break;
        case 'random':
            nextNumbers = generateRandomNumbers();
            break;
        default:
            nextNumbers = generateBalancedNumbers();
    }
    
    // ç¢ºä¿è™Ÿç¢¼ä¸é‡è¤‡ä¸¦æ’åº
    nextNumbers = [...new Set(nextNumbers)].sort((a,b) => a-b);
    
    // å¦‚æœä¸è¶³5å€‹è™Ÿç¢¼ï¼Œè£œé½Š
    while(nextNumbers.length < 5) {
        const randomNum = Math.floor(Math.random() * 39) + 1;
        if(!nextNumbers.includes(randomNum)) {
            nextNumbers.push(randomNum);
        }
    }
    
    // å¦‚æœè¶…é5å€‹è™Ÿç¢¼ï¼Œåªå–å‰5å€‹
    if(nextNumbers.length > 5) {
        nextNumbers = nextNumbers.slice(0, 5);
    }
    
    return nextNumbers.sort((a,b) => a-b);
}

// å‡è¡¡ç­–ç•¥
function generateBalancedNumbers() {
    const sortedByCount = allNumbers
        .map(n => ({num: n, count: numberStats[n].count}))
        .sort((a,b) => b.count - a.count);
    
    const hotNumbers = sortedByCount.slice(0, 15).map(item => item.num);
    const coldNumbers = sortedByCount.slice(-15).map(item => item.num);
    
    const combination = new Set();
    
    // é¸æ“‡2å€‹ç†±è™Ÿ
    let selected = [];
    while(selected.length < 2) {
        const idx = Math.floor(Math.random() * hotNumbers.length);
        const num = hotNumbers[idx];
        if(!selected.includes(num)) {
            selected.push(num);
            combination.add(num);
        }
    }
    
    // é¸æ“‡2å€‹å†·è™Ÿ
    selected = [];
    while(selected.length < 2) {
        const idx = Math.floor(Math.random() * coldNumbers.length);
        const num = coldNumbers[idx];
        if(!combination.has(num) && !selected.includes(num)) {
            selected.push(num);
            combination.add(num);
        }
    }
    
    // é¸æ“‡1å€‹ä¸­ç­‰é »ç‡è™Ÿç¢¼
    const mediumNumbers = sortedByCount.slice(15, 24).map(item => item.num);
    while(combination.size < 5) {
        const idx = Math.floor(Math.random() * mediumNumbers.length);
        const num = mediumNumbers[idx];
        if(!combination.has(num)) {
            combination.add(num);
        }
    }
    
    return Array.from(combination);
}

// ç†±é–€è™Ÿç¢¼ç­–ç•¥
function generateHotNumbers() {
    const sortedByCount = allNumbers
        .map(n => ({num: n, count: numberStats[n].count}))
        .sort((a,b) => b.count - a.count);
    
    const hotNumbers = sortedByCount.slice(0, 20).map(item => item.num);
    const combination = new Set();
    
    while(combination.size < 5) {
        const idx = Math.floor(Math.random() * hotNumbers.length);
        const num = hotNumbers[idx];
        if(!combination.has(num)) {
            combination.add(num);
        }
    }
    
    return Array.from(combination);
}

// å†·é–€è™Ÿç¢¼ç­–ç•¥
function generateColdNumbers() {
    const sortedByCount = allNumbers
        .map(n => ({num: n, count: numberStats[n].count}))
        .sort((a,b) => a.count - b.count);
    
    const coldNumbers = sortedByCount.slice(0, 20).map(item => item.num);
    const combination = new Set();
    
    while(combination.size < 5) {
        const idx = Math.floor(Math.random() * coldNumbers.length);
        const num = coldNumbers[idx];
        if(!combination.has(num)) {
            combination.add(num);
        }
    }
    
    return Array.from(combination);
}

// æ­·å²æ¨¡å¼ç­–ç•¥
function generatePatternNumbers() {
    // è¨ˆç®—æ­·å²å¥‡å¶æ¯”
    const oddCounts = historyData.map(row => row.filter(n => n % 2 === 1).length);
    const avgOdd = Math.round(oddCounts.reduce((a,b) => a+b, 0) / oddCounts.length);
    
    // è¨ˆç®—å’Œå€¼ç¯„åœ
    const sums = historyData.map(row => row.reduce((a,b) => a+b, 0));
    const meanSum = Math.round(sums.reduce((a,b) => a+b, 0) / sums.length);
    const minSum = Math.min(...sums);
    const maxSum = Math.max(...sums);
    
    // æ ¹æ“šæ­·å²æ¨¡å¼é¸æ“‡è™Ÿç¢¼
    const combination = new Set();
    
    // é¦–å…ˆé¸æ“‡ç†±é–€è™Ÿç¢¼
    const sortedByCount = allNumbers
        .map(n => ({num: n, count: numberStats[n].count}))
        .sort((a,b) => b.count - a.count);
    
    // é¸æ“‡3å€‹ç†±é–€è™Ÿç¢¼
    const hotCandidates = sortedByCount.slice(0, 25).map(item => item.num);
    let selected = [];
    while(selected.length < 3 && combination.size < 5) {
        const idx = Math.floor(Math.random() * hotCandidates.length);
        const num = hotCandidates[idx];
        if(!combination.has(num) && !selected.includes(num)) {
            combination.add(num);
            selected.push(num);
        }
    }
    
    // æ·»åŠ è™Ÿç¢¼ç›´åˆ°æ»¿è¶³æ¢ä»¶
    while(combination.size < 5) {
        const candidate = Math.floor(Math.random() * 39) + 1;
        if(!combination.has(candidate)) {
            const tempCombination = Array.from(combination);
            tempCombination.push(candidate);
            
            // æª¢æŸ¥å¥‡å¶æ¯”
            const oddCount = tempCombination.filter(n => n % 2 === 1).length;
            const sum = tempCombination.reduce((a,b) => a+b, 0);
            
            if(Math.abs(oddCount - avgOdd) <= 1 && sum >= minSum && sum <= maxSum) {
                combination.add(candidate);
            }
        }
    }
    
    return Array.from(combination);
}

// éš¨æ©Ÿå„ªåŒ–ç­–ç•¥
function generateRandomNumbers() {
    const combination = new Set();
    
    while(combination.size < 5) {
        const num = Math.floor(Math.random() * 39) + 1;
        combination.add(num);
    }
    
    return Array.from(combination);
}

// é¡¯ç¤ºçµæœ
function displayResults(nextNumbers) {
    const resultDiv = document.getElementById('result');
    const statsGrid = document.getElementById('statsGrid');
    
    // é¡¯ç¤ºè™Ÿç¢¼
    let numbersHTML = '<div class="next-numbers">';
    nextNumbers.forEach(num => {
        numbersHTML += `<div class="number-ball">${num}</div>`;
    });
    numbersHTML += '</div>';
    
    // è¨ˆç®—çµ±è¨ˆä¿¡æ¯
    const oddCount = nextNumbers.filter(n => n % 2 === 1).length;
    const evenCount = 5 - oddCount;
    const sum = nextNumbers.reduce((a,b) => a+b, 0);
    const smallCount = nextNumbers.filter(n => n <= 19).length;
    const bigCount = 5 - smallCount;
    const span = Math.max(...nextNumbers) - Math.min(...nextNumbers);
    
    // é¡¯ç¤ºçµ±è¨ˆ
    const statsHTML = `
        <div class="stat-box">
            <div class="stat-title">å¥‡å¶æ¯”ä¾‹</div>
            <div class="stat-value">${oddCount}å¥‡${evenCount}å¶</div>
        </div>
        <div class="stat-box">
            <div class="stat-title">å¤§å°æ¯”ä¾‹</div>
            <div class="stat-value">${smallCount}å°${bigCount}å¤§</div>
        </div>
        <div class="stat-box">
            <div class="stat-title">è™Ÿç¢¼ç¸½å’Œ</div>
            <div class="stat-value">${sum}</div>
        </div>
        <div class="stat-box">
            <div class="stat-title">è™Ÿç¢¼è·¨åº¦</div>
            <div class="stat-value">${span}</div>
        </div>
    `;
    
    resultDiv.innerHTML = numbersHTML;
    statsGrid.innerHTML = statsHTML;
}

// é¡¯ç¤ºæ­·å²çµ±è¨ˆ
function displayHistoryStats() {
    const historyDiv = document.getElementById('historyStats');
    
    // è¨ˆç®—æ­·å²çµ±è¨ˆ
    const totalDraws = historyData.length;
    
    // ç†±é–€è™Ÿç¢¼
    const sortedByCount = allNumbers
        .map(n => ({num: n, count: numberStats[n].count}))
        .sort((a,b) => b.count - a.count);
    
    const hotNumbers = sortedByCount.slice(0, 5).map(item => item.num);
    const coldNumbers = sortedByCount.slice(-5).map(item => item.num);
    
    // éºæ¼æœŸæ•¸æœ€é•·çš„è™Ÿç¢¼
    const sortedByMiss = allNumbers
        .map(n => ({num: n, miss: numberStats[n].lastSeen}))
        .sort((a,b) => b.miss - a.miss);
    
    const topMiss = sortedByMiss.slice(0, 3).map(item => item.num);
    
    // å‰µå»ºæ­·å²çµ±è¨ˆè¡¨æ ¼
    let historyHTML = `
        <table>
            <tr>
                <th>çµ±è¨ˆé …ç›®</th>
                <th>æ•¸å€¼</th>
                <th>èªªæ˜</th>
            </tr>
            <tr>
                <td>åˆ†ææœŸæ•¸</td>
                <td>${totalDraws}æœŸ</td>
                <td>æ­·å²æ•¸æ“šç¸½æ•¸</td>
            </tr>
            <tr>
                <td>æœ€ç†±è™Ÿç¢¼</td>
                <td>${hotNumbers.join(', ')}</td>
                <td>å‡ºç¾æ¬¡æ•¸æœ€å¤š</td>
            </tr>
            <tr>
                <td>æœ€å†·è™Ÿç¢¼</td>
                <td>${coldNumbers.join(', ')}</td>
                <td>å‡ºç¾æ¬¡æ•¸æœ€å°‘</td>
            </tr>
            <tr>
                <td>é•·æœŸéºæ¼</td>
                <td>${topMiss.join(', ')}</td>
                <td>æœ€ä¹…æœªé–‹å‡ºçš„è™Ÿç¢¼</td>
            </tr>
            <tr>
                <td>ä½¿ç”¨ç­–ç•¥</td>
                <td>${getStrategyName(currentStrategy)}</td>
                <td>æœ¬æ¬¡æ¨¡æ“¬æ¡ç”¨çš„ç­–ç•¥</td>
            </tr>
        </table>
    `;
    
    historyDiv.innerHTML = historyHTML;
}

// ç²å–ç­–ç•¥åç¨±
function getStrategyName(strategy) {
    const names = {
        'balanced': 'å‡è¡¡ç­–ç•¥',
        'hot': 'ç†±é–€è™Ÿç¢¼ç­–ç•¥',
        'cold': 'å†·é–€è™Ÿç¢¼ç­–ç•¥',
        'pattern': 'æ­·å²æ¨¡å¼ç­–ç•¥',
        'random': 'éš¨æ©Ÿå„ªåŒ–ç­–ç•¥'
    };
    return names[strategy] || 'å‡è¡¡ç­–ç•¥';
}

// é é¢åŠ è¼‰æ™‚åˆå§‹åŒ–
window.addEventListener('DOMContentLoaded', function() {
    // ç‚ºæ–‡ä»¶è¼¸å…¥æ·»åŠ æ‹–æ”¾åŠŸèƒ½
    const fileInput = document.getElementById('csvFile');
    const container = document.querySelector('.container');
    
    container.addEventListener('dragover', function(e) {
        e.preventDefault();
        container.style.borderColor = '#4fc3f7';
    });
    
    container.addEventListener('dragleave', function(e) {
        e.preventDefault();
        container.style.borderColor = 'rgba(79, 195, 247, 0.2)';
    });
    
    container.addEventListener('drop', function(e) {
        e.preventDefault();
        container.style.borderColor = 'rgba(79, 195, 247, 0.2)';
        
        if(e.dataTransfer.files.length) {
            fileInput.files = e.dataTransfer.files;
            
            // é¡¯ç¤ºæ–‡ä»¶å
            const fileName = e.dataTransfer.files[0].name;
            alert(`å·²é¸æ“‡æ–‡ä»¶: ${fileName}\nè«‹é»æ“Š"ç”Ÿæˆä¸‹ä¸€çµ„è™Ÿç¢¼"æŒ‰éˆ•`);
        }
    });
});
</script>

</body>
</html>
